<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Linear to Quadratic and back - Gaurav Arora</title>
  <meta name="description" content="Can a single for loop be running with quadratic time complexity?"><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Gaurav Arora",
    
    "url": "https:\/\/gauravaror.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/gauravaror.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/gauravaror.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/gauravaror.github.io\/posts\/linear_quadratic\/",
          "name": "Linear to quadratic and back"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "Linear to Quadratic and back",
  "description" : "Can a single for loop be running with quadratic time complexity?\n",
  "inLanguage" : "en",
  "wordCount":  357 ,
  "datePublished" : "2019-11-18T21:37:37",
  "dateModified" : "2019-11-18T21:37:37",
  "image" : "https:\/\/gauravaror.github.io\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/gauravaror.github.io\/posts\/linear_quadratic\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/gauravaror.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/gauravaror.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Linear to Quadratic and back" />
<meta property="og:description" content="Can a single for loop be running with quadratic time complexity?">
<meta property="og:url" content="https://gauravaror.github.io/posts/linear_quadratic/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Gaurav Arora" />

  <meta name="twitter:title" content="Linear to Quadratic and back" />
  <meta name="twitter:description" content="Can a single for loop be running with quadratic time complexity?">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.60.0" />
  <link rel="alternate" href="https://gauravaror.github.io/index.xml" type="application/rss+xml" title="Gaurav Arora"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://gauravaror.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://gauravaror.github.io/css/syntax.css" /><link rel="stylesheet" href="https://gauravaror.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://gauravaror.github.io/">Gaurav Arora</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="About" href="/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Xapian" href="/xapian/">Xapian</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Linear to Quadratic and back</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>Can a single for loop be running with quadratic time complexity?</p>
<link rel="stylesheet" href="https://gauravaror.github.io/css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/linear_quad_1.png" alt="/linear_quad_1.png"/>
    </div>
    <a href="/linear_quad_1.png" itemprop="contentUrl"></a>
      <figcaption><h4>What&#39;s wrong</h4>
      </figcaption>
  </figure>
</div>

<p>I wrote a shell script to generate data for a test I was writing. The script goes something like this:</p>
<h4 id="script-a">Script A</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#66d9ef">for</span> i in <span style="color:#e6db74">`</span>seq <span style="color:#ae81ff">1</span> 6000<span style="color:#e6db74">`</span>;
<span style="color:#66d9ef">do</span>
data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>data<span style="color:#e6db74">}</span><span style="color:#e6db74">newdata=</span>$i<span style="color:#e6db74">&#34;</span>;
<span style="color:#66d9ef">done</span>
<span style="color:#75715e">##Time for this script</span>  
<span style="color:#75715e">##./new.sh  9.01s user 0.02s system 99% cpu 9.049 total</span>
</code></pre></div><p>It sure looks like a script which can run in O(n) time, a single for loop.
It was bit baffled when I got review comment saying this is quadratic or O(n2) in time complexity. I initially thought it's something to do with shell!! Maybe it does some advanced representation thing and stuff.</p>
<h4 id="script-b">Script B</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#66d9ef">for</span> i in <span style="color:#e6db74">`</span>seq <span style="color:#ae81ff">1</span> 6000<span style="color:#e6db74">`</span>;
<span style="color:#66d9ef">do</span>
data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">newdata=</span>$i<span style="color:#e6db74">&#34;</span>;
<span style="color:#66d9ef">done</span>
<span style="color:#75715e">##Time for this script</span>  
<span style="color:#75715e">##./new.sh  0.05s user 0.00s system 97% cpu 0.051 total</span>
</code></pre></div><p>The script A above takes 9.01 second, whereas Script B takes 0.05 seconds.
It's just the assignment operator which was increasing the time complexity of this script.</p>
<p><strong>How?</strong>
Since it has to assign whole data of string to the new variable.
It has to traverse the whole data generated from 1 to 5999 and append data of 6000th iteration. So 6000th iteration is equivalent to generating data from the whole loop. <strong>Quadratic!!</strong></p>
<h4 id="back-to-linear-space-we-seem-to-likethem">Back to Linear space, we seem to like them.</h4>
<p>In advanced shells, we can just change the script to:</p>
<h5 id="script-c">Script C</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">data<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#66d9ef">for</span> i in <span style="color:#e6db74">`</span>seq <span style="color:#ae81ff">1</span> 6000<span style="color:#e6db74">`</span>;
<span style="color:#66d9ef">do</span>
data<span style="color:#f92672">+=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">newdata=</span>$i<span style="color:#e6db74">&#34;</span>;
<span style="color:#66d9ef">done</span>
<span style="color:#75715e">##Time for this script</span>  
<span style="color:#75715e">##./new.sh  0.07s user 0.01s system 97% cpu 0.075 total</span>
</code></pre></div><p>It would make it linear. But the version of shell we use for test script doesn't support append operation like Script C. Yet to figure out how to solve it.</p>
<h4 id="just-a-reminder-to-me-think-andcode">Just a reminder to me: Think and code</h4>
<p>It is interesting how substitution instead of <strong>append</strong> can increase performance time with the same result.</p>
<p>These small mistakes can make your program unusable. Though our example is in the shell script, doing this mistake in other languages is possible but less probable as people are used to += operators.</p>
<p>But the various version of bash with different features these mistakes highly probable in shell scripting.</p>

        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://gauravaror.github.io/posts/first/" data-toggle="tooltip" data-placement="top" title="gdb Demystified">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://gauravaror.github.io/posts/libpst/" data-toggle="tooltip" data-placement="top" title="WIP:A short tour of libpst">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://gauravaror.github.io/">Gaurav Arora</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.60.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://gauravaror.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://gauravaror.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

